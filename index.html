<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
<meta name="google-site-verification" content="ikJ23d6ZoygFgzcP2SEwEn34yaG53x42g8zYH4ElVj0" />
<meta name="naver-site-verification" content="e6cf1e8cb9cfdaa08bb9507230d016acf44af605" />
<meta name="google-site-verification" content="OAhCbV8G6f6Xf603PHsm5ZRWDZZD-5Rd6N77ZKGVMEw" />
<meta name="naver-site-verification" content="2cd179fc7bb3b1bf99983a6a19db87a495f1e68f" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>BTC ì‹¤ì‹œê°„ ë³€ë™ì„± ì˜ˆì¸¡ ëª¨ë¸</title>
    <link rel="icon" href="https://cryptologos.cc/logos/bitcoin-btc-logo.png?v=025" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { text-align: center; padding: 40px 20px; background: #0b0e11; color: #f3ba2f; font-family: 'Apple SD Gothic Neo', sans-serif; }
        .card { display: inline-block; padding: 30px; border: 2px solid #f3ba2f; border-radius: 20px; background: #181a20; width: 95%; max-width: 900px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); margin-bottom: 30px; }
        .input-area { margin: 20px 0; padding: 20px; border-top: 1px solid #333; }
        input { padding: 12px; font-size: 20px; width: 120px; text-align: center; border-radius: 8px; border: 1px solid #444; background: #2b3139; color: white; outline: none; }
        button { padding: 12px 25px; font-size: 20px; cursor: pointer; background: #f3ba2f; color: #000; font-weight: bold; border-radius: 8px; border: none; transition: 0.3s; }
        button:hover { background: #ffcc33; transform: scale(1.05); }
        #result { margin: 20px 0; font-size: 32px; color: white; font-weight: bold; }
        .desc { color: #848e9c; font-size: 14px; margin-bottom: 10px; }
        .chart-wrapper { height: 450px; margin-top: 20px; }

        /* ì˜ˆì¸¡ í‘œ ë””ìì¸ */
        .forecast-table { width: 100%; border-collapse: collapse; background: #1e2329; border-radius: 12px; overflow: hidden; color: white; margin-top: 20px; }
        .forecast-table th { background: #f3ba2f; color: #000; padding: 12px; font-size: 14px; }
        .forecast-table td { padding: 12px; border-bottom: 1px solid #333; font-size: 15px; }
        .signal-up { color: #00ff88; font-weight: bold; }
        .signal-down { color: #ff4444; font-weight: bold; }
        .signal-neutral { color: #848e9c; font-weight: bold; }
        .crash-warning { background: rgba(255, 68, 68, 0.15); border: 1px solid #ff4444; color: #ff4444; padding: 15px; border-radius: 8px; margin: 20px 0; font-weight: bold; display: none; }
</style>
</head>

<body>



<div id="emailModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:10000; justify-content:center; align-items:center; padding:15px; box-sizing:border-box;">
    <div style="background:#1e2329; border:2px solid #f3ba2f; padding:25px; border-radius:15px; width:100%; max-width:320px; text-align:center; box-sizing:border-box;">
<span onclick="document.getElementById('emailModal').style.display='none'" 
              style="position:absolute; top:10px; right:15px; color:#848e9c; cursor:pointer; font-size:20px; font-weight:bold;">
            &times;
        </span>
        <h2 style="color:#f3ba2f; margin:0 0 15px 0; font-size:13px;">ì¸ì¦ ì™„ë£Œ í›„ì—ëŠ” ì¬ì…ë ¥ ì—†ì´<br>
            <b>ê²Œì„ ì°¸ì—¬</b>ì™€ <b>ì˜ˆì¸¡ê°€ í™•ì¸</b>ì´ ì¦‰ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</h2>
        <input type="text" id="modalNameInput" placeholder="ì´ë¦„(ë‹‰ë„¤ì„)" style="width:100%; padding:12px; margin-bottom:10px; border-radius:8px; border:1px solid #444; background:#2b3139; color:white; font-size:15px; box-sizing:border-box;">
        <input type="email" id="modalEmailInput" placeholder="ì´ë©”ì¼ (@ í¬í•¨)" style="width:100%; padding:12px; margin-bottom:20px; border-radius:8px; border:1px solid #444; background:#2b3139; color:white; font-size:15px; box-sizing:border-box;">
        <button id="modalSubmitBtn" style="width:100%; padding:14px; background:#f3ba2f; color:#0b0e11; border:none; border-radius:8px; font-weight:bold; font-size:16px; cursor:pointer;">ì¸ì¦ í›„ ê²°ê³¼ í™•ì¸</button>
<button onclick="document.getElementById('emailModal').style.display='none'" 
        style="width:100%; margin-top:10px; padding:10px; background:transparent; color:#848e9c; border:1px solid #474d57; border-radius:8px; cursor:pointer; font-size:14px;">
    ë‹¤ìŒì— í•˜ê¸° (ë‹«ê¸°)
</button>    

</div>
</div>



<div class="lang-selector-container" style="background: #1e2329; padding: 10px; border-bottom: 2px solid #333; display: flex; justify-content: flex-end; align-items: center; gap: 10px;">
    <span style="color: #f3ba2f; font-size: 14px;">Language</span>
    <div id="google_translate_element"></div>
</div>

<style>
    /* êµ¬ê¸€ ìœ„ì ¯ ë””ìì¸ ì»¤ìŠ¤í…€ (ì´ŒìŠ¤ëŸ¬ìš´ ë¶€ë¶„ ê°€ë¦¬ê¸°) */
    .goog-te-gadget { font-size: 0 !important; }
    .goog-te-gadget .goog-te-combo {
        background: #2b3139 !important;
        color: #f3ba2f !important;
        border: 1px solid #444 !important;
        border-radius: 4px !important;
        padding: 4px !important;
        outline: none !important;
    }
    .goog-te-banner-frame.skiptranslate, .goog-te-gadget span { display: none !important; }
    body { top: 0 !important; }
</style>

<div style="margin: 40px auto 60px auto; max-width: 900px; text-align: center;">
    <h1 style="font-size: 2.8rem; color: #f3ba2f; margin-bottom: 20px; letter-spacing: -1.5px; font-weight: 800; line-height: 1.2;">
        ë¹„íŠ¸ì½”ì¸ <span style="color: #ffffff;">ì‹¤ì‹œê°„ ì‹œë®¬ë ˆì´í„°</span>
    </h1>
    
    <p style="color: #848e9c; font-size: 1.15rem; line-height: 1.7; font-weight: 300; max-width: 700px; margin: 0 auto;">
        í˜„ ì‹œì ì˜ ì‹œì¥ ë°ì´í„°ì™€ ë¡œì§€ìŠ¤í‹± ì„±ì¥ ëª¨ë¸ì„ ê²°í•©í•˜ì—¬<br>
        ë¹„íŠ¸ì½”ì¸ì˜ <strong>ê°€ì¹˜ ê¶¤ì </strong>ê³¼ <strong>ë¯¸ë˜ ì‹œë‚˜ë¦¬ì˜¤</strong>ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤.
    </p>
</div>

<div id="asset-price-list" style="background: rgba(255, 255, 255, 0.02); padding: 15px; border-radius: 12px; margin: 15px auto; max-width: 900px; border: 2px solid rgba(255, 255, 255, 0.08);">
    <div style="width: 100%; color: #ffffff; font-size: 1.1rem; font-weight: 700; margin-bottom: 15px; text-align: left; padding-left: 10px;">ğŸ“Šì£¼ìš” ì•”í˜¸í™”í ì‹¤ì‹œê°„ ì‹œì„¸</div>
    
    <div id="crypto-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 10px;">
        </div>
</div>

<script>
    // 2. 20ê°œ ì½”ì¸ ë°ì´í„° ë° ë¡œì§
    const cryptoAssets = {
        'btc': { name: 'BITCOIN', color: '#f3ba2f', digits: 2 },
        'eth': { name: 'ETHEREUM', color: '#c994ff', digits: 2 },
        'sol': { name: 'SOLANA', color: '#14f195', digits: 2 },
        'xrp': { name: 'XRP', color: '#ffffff', digits: 4 },
        'bnb': { name: 'BNB', color: '#f3ba2f', digits: 2 },
        'doge': { name: 'DOGE', color: '#c2a633', digits: 4 },
        'ada': { name: 'CARDANO', color: '#0033ad', digits: 4 },
        'trx': { name: 'TRON', color: '#ff0013', digits: 4 },
        'dot': { name: 'POLKADOT', color: '#e6007a', digits: 2 },
        'link': { name: 'CHAINLINK', color: '#2a5ada', digits: 2 },
        'shib': { name: 'SHIBA INU', color: '#ff6000', digits: 6 },
        'avax': { name: 'AVALANCHE', color: '#e84142', digits: 2 },
        'ton': { name: 'TONCOIN', color: '#0098ea', digits: 2 },
        'pepe': { name: 'PEPE', color: '#00ff00', digits: 8 },
        'pol': { name: 'POLYGON', color: '#9d7f64', digits: 4 },
        'bonk': { name: 'BONK', color: '#f5a13b', digits: 8 },
        'ondo': { name: 'ONDO', color: '#5580ff', digits: 4 },
        'near': { name: 'NEAR', color: '#ffffff', digits: 3 },
        'apt': { name: 'APTOS', color: '#ffffff', digits: 2 },
        'sui': { name: 'SUI', color: '#6fbcf0', digits: 2 },
        'aave': { name: 'AAVE', color: '#2ebac6', digits: 2 }
    };

    let lastPrices = {};

    // ê·¸ë¦¬ë“œ ì•ˆì— ì½”ì¸ë³„ ì¹¸ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ëŠ” í•¨ìˆ˜
    function initCryptoGrid() {
        const grid = document.getElementById('crypto-grid');
        let html = '';
        for (let key in cryptoAssets) {
            html += `
                <div style="text-align: center; padding: 10px; background: rgba(255,255,255,0.03); border-radius: 8px; border: 1px solid rgba(255,255,255,0.05);">
                    <span style="color: #ffffff; font-size: 0.7rem; display: block; margin-bottom: 2px;">${cryptoAssets[key].name}</span>
                    <div style="display: flex; align-items: center; justify-content: center; gap: 3px; min-height:20px;">
                        <span id="arrow-${key}" style="font-size: 10px;"></span>
                        <span id="price-${key}" style="color: ${cryptoAssets[key].color}; font-weight: 700; font-size: 0.85rem;">$ 0.00</span>
                    </div>
                </div>`;
        }
        grid.innerHTML = html;
    }

    async function refreshPrices() {
        for (let key in cryptoAssets) {
            try {
                const response = await fetch(`https://api.coinbase.com/v2/prices/${key.toUpperCase()}-USD/spot`);
                const result = await response.json();
                const current = parseFloat(result.data.amount);
                
                const display = document.getElementById(`price-${key}`);
                const arrowEl = document.getElementById(`arrow-${key}`);
                const formatted = current.toLocaleString('en-US', { 
                    minimumFractionDigits: cryptoAssets[key].digits, 
                    maximumFractionDigits: cryptoAssets[key].digits 
                });

                if (lastPrices[key] && display) {
                    if (current > lastPrices[key]) {
                        display.style.color = "#00ff88";
                        arrowEl.innerText = "â–²"; arrowEl.style.color = "#00ff88";
                    } else if (current < lastPrices[key]) {
                        display.style.color = "#ff4444";
                        arrowEl.innerText = "â–¼"; arrowEl.style.color = "#ff4444";
                    }
                    setTimeout(() => { 
                        display.style.color = cryptoAssets[key].color; 
                        arrowEl.innerText = ""; 
                    }, 1000);
                }

                if(display) display.innerText = `$ ${formatted}`;
                lastPrices[key] = current;
            } catch (e) { console.warn(`${key} ì‹œì„¸ ë¡œë”© ì‹¤íŒ¨`); }
        }
    }

    initCryptoGrid(); // ì¹¸ ë§Œë“¤ê¸°
    setInterval(refreshPrices, 3000); // 3ì´ˆë§ˆë‹¤ ê°±ì‹ 
    refreshPrices(); // ì¦‰ì‹œ ì‹¤í–‰
</script>

<div style="margin: 20px auto; max-width: 900px; display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap;">
    <div class="card" style="padding: 20px; width: 100%; max-width: 400px; margin-bottom: 0;">
        <h3 style="font-size: 1.1rem; margin-top: 0; color: #f3ba2f;">ğŸ“Š ì‹¤ì‹œê°„ ì‹œì¥ ì‹¬ë¦¬ (ê³µí¬Â·íƒìš•)</h3>
        <img src="https://alternative.me/crypto/fear-and-greed-index.png" alt="Latest Crypto Fear & Greed Index" style="width: 100%; border-radius: 10px; border: 1px solid #333;">
        <p class="desc" style="margin-top: 10px;">0: ê·¹ë‹¨ì  ê³µí¬ | 100: ê·¹ë‹¨ì  íƒìš•</p>
    </div>
    
    <div class="card" style="padding: 20px; flex: 1; min-width: 300px; margin-bottom: 0; text-align: left;">
        <h3 style="font-size: 1.1rem; margin-top: 0; color: #f3ba2f;">ğŸ’¡ íˆ¬ì ì‹¬ë¦¬ ê°€ì´ë“œ</h3>
        <ul style="color: #848e9c; font-size: 13px; padding-left: 20px; line-height: 1.6;">
            <li><strong>ê·¹ë‹¨ì  ê³µí¬:</strong> ì‹œì¥ ì°¸ì—¬ìë“¤ì´ ê³¼ë„í•˜ê²Œ ìš°ë ¤í•˜ê³  ìˆìœ¼ë©°, ì´ëŠ” ì¢…ì¢… <span style="color: #00ff88;">ì €ì  ë§¤ìˆ˜ ê¸°íšŒ</span>ê°€ ë©ë‹ˆë‹¤.</li>
            <li><strong>ê·¹ë‹¨ì  íƒìš•:</strong> ì‹œì¥ì— í¬ëª¨(FOMO)ê°€ ë°œìƒí•˜ì—¬ ê³¼ì—´ëœ ìƒíƒœì…ë‹ˆë‹¤. <span style="color: #ff4444;">ê°•í•œ ì¡°ì •</span>ì´ ì˜¬ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.</li>
            <li>ë³¸ ì‚¬ì´íŠ¸ì˜ 12ê°œì›” ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ ì‹¬ë¦¬ ì§€ìˆ˜ë¥¼ ì°¸ê³ í•˜ì—¬ ë¦¬ìŠ¤í¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</li>
        </ul>
    </div>
</div>

<div class="card">
    <h2>â‚¿ BTC ê°€ê²© ì˜ˆì¸¡ ê³„ì‚°ê¸°</h2>
    <p class="desc">ë¯¸ë˜ì˜ ë¹„íŠ¸ì½”ì¸ ê°€ê²©ì„ ì˜ˆì¸¡í•´ë³´ì„¸ìš”!</p>

    <div id="crash-alert" class="crash-warning">âš ï¸ ê²½ê³ : ì—°ì¤‘ ëŒ€ê·œëª¨ ìì‚° ì¡°ì •(Crash) ì‹œë‚˜ë¦¬ì˜¤ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¦¬ìŠ¤í¬ ê´€ë¦¬ì— ìœ ì˜í•˜ì„¸ìš”.</div>

 

   
    <div class="chart-wrapper">
        <canvas id="myChart"></canvas>
    </div>

  
<div class="input-area">
    <p class="desc" style="color: #848e9c; margin-bottom: 15px;">ë…„ë„ë³„ ì˜ˆì¸¡ê°€ í™•ì¸</p>
    <div style="display: flex; justify-content: center; align-items: center; gap: 10px;">
        <input type="number" id="targetYear" 
               style="width: 100px; height: 40px; font-size: 20px; text-align: center; border-radius: 8px; border: 1px solid #444; background: #2b3139; color: white; outline: none;">
        
        <span style="font-size: 20px; color: #f3ba2f; font-weight: bold;">ë…„</span>

        <button onclick="updateDisplay()" 
                style="height: 50px; padding: 0 25px; font-size: 18px; font-weight: bold; background: #f3ba2f; color: #181a20; border: none; border-radius: 8px; cursor: pointer;">
            ì˜ˆì¸¡ê°€ í™•ì¸
        </button>
    </div>
    <div id="result" style="margin-top: 20px; font-size: 22px; font-weight: bold;">ë…„ë„ë¥¼ ì…ë ¥í•˜ì„¸ìš”</div>
</div>



</div>

<script>
    let lastPrice = 0;
    const today = new Date();
    const historicalData = { 2009:0, 2010:0.4, 2011:31, 2012:13, 2013:1100, 2014:1200, 2015:500, 2016:950, 2017:20000, 2018:19000, 2019:13000, 2020:29000, 2021:68000, 2022:48000, 2023:44000, 2024:73000, 2025:120000 };

    // ë¡œì§€ìŠ¤í‹± ìˆ˜ì‹
    function getModelPrice(year) {
        var x = year - 2009;
        var L = 501.077; var A = 500.077; var k = 0.1633;
        var y = (L / (1 + (A * Math.exp(-k * x)))) - 1;
        return Math.round(y * 10000);
    }

    // í•µì‹¬: ì‹¤ì‹œê°„ ê°€ê²© ì—°ë™ ë° ë³€ë™ì„± ì‹œë®¬ë ˆì´ì…˜
    async function updatePriceAndForecast() {
        try {
            const response = await fetch('https://api.coinbase.com/v2/prices/BTC-USD/spot');
            const result = await response.json();
            lastPrice = parseFloat(result.data.amount);
            document.getElementById('list-price-btc').innerText = `$ ${lastPrice.toLocaleString()}`;

            const forecastBody = document.getElementById('forecast-body');
            const crashAlert = document.getElementById('crash-alert');
            const targetYearPrice = getModelPrice(today.getFullYear() + 1);
            let html = '';
            let prevPrice = lastPrice;
            let hasCrash = false;

            for(let i = 1; i <= 12; i++) {
                let targetDate = new Date(today.getFullYear(), today.getMonth() + i, 1);
                let weight = i / 12;
                let trend = (lastPrice * (1 - weight)) + (targetYearPrice * weight);
                
                // --- ë³€ë™ì„± ì—”ì§„: í•˜ë½/í­ë½ ë¹„ì¤‘ ê°•í™” ---
               // 30ë¶„ ë™ì•ˆì€ ê°™ì€ ìˆ«ìë¥¼ ë‚´ë±‰ëŠ” ê³ ì •ì‹ì…ë‹ˆë‹¤.
                // --- ì—¬ê¸°ì„œë¶€í„° ---
let dice = (Math.abs(Math.sin(new Date().getFullYear() + new Date().getMonth() + new Date().getDate() + new Date().getHours() * 2 + Math.floor(new Date().getMinutes() / 10) + i)) * 10000) % 1;

let factor = 1.0;
if (dice < 0.18) { 
    factor = 0.72 + (dice * 0.1); hasCrash = true; // í­ë½ (dice ì¬ì‚¬ìš©)
} else if (dice < 0.45) { 
    factor = 0.88 + (dice * 0.1); // ì¡°ì • (dice ì¬ì‚¬ìš©)
} else if (dice < 0.70) { 
    factor = 0.97 + (dice * 0.06); // íš¡ë³´ (dice ì¬ì‚¬ìš©)
} else { 
    factor = 1.04 + (dice * 0.12); // ìƒìŠ¹ (dice ì¬ì‚¬ìš©)
}
// --- ì—¬ê¸°ê¹Œì§€ ---
                let finalPrice = Math.round(trend * factor);
                let change = ((finalPrice - prevPrice) / prevPrice) * 100;
                
                let signal = ""; let sClass = "";
                if (change > 5) { signal = "â–² ê°•ì„¸"; sClass = "signal-up"; }
                else if (change < -12) { signal = "â–¼â–¼ í­ë½(Crash)"; sClass = "signal-down"; }
                else if (change < 0) { signal = "â–¼ ì¡°ì •"; sClass = "signal-down"; }
                else { signal = "â— íš¡ë³´"; sClass = "signal-neutral"; }

                html += `<tr>
                    <td>${targetDate.getFullYear()}ë…„ ${targetDate.getMonth() + 1}ì›”</td>
                    <td>$ ${finalPrice.toLocaleString()}</td>
                    <td class="${sClass}">${signal} (${change > 0 ? '+' : ''}${change.toFixed(1)}%)</td>
                </tr>`;
                prevPrice = finalPrice;
            }
            forecastBody.innerHTML = html;
            crashAlert.style.display = hasCrash ? 'block' : 'none';
        } catch (e) { console.error(e); }
    }

    let myChart;
    function drawChart(endYear) {
        const labels = []; const actualPoints = []; const modelPoints = [];
        for (let i = 2009; i <= endYear; i++) {
            labels.push(i);
            if (i <= 2025) { actualPoints.push(historicalData[i]); modelPoints.push(null); }
            else { 
                actualPoints.push(null); modelPoints.push(getModelPrice(i));
                if (i === today.getFullYear()) modelPoints[modelPoints.length-2] = historicalData[2025];
            }
        }
        const ctx = document.getElementById('myChart').getContext('2d');
        if (myChart) myChart.destroy();
        myChart = new Chart(ctx, {
            type: 'line',
            data: { labels, datasets: [
                { label: 'ê³¼ê±° ì‹¤ì œ ë°ì´í„°', data: actualPoints, borderColor: '#848e9c' },
                { label: 'ë¯¸ë˜ ëª¨ë¸ ì˜ˆì¸¡', data: modelPoints, borderColor: '#f3ba2f', borderDash: [5, 5] }
            ]},
            options: { responsive: true, maintainAspectRatio: false, scales: { y: { type: 'logarithmic' } } }
        });
    }

    

// ì „ì—­ ë³€ìˆ˜ë¡œ ì„ íƒëœ ë…„ë„ë¥¼ ì„ì‹œ ì €ì¥
let tempYear = ""; 

function updateDisplay() {
    tempYear = document.getElementById('targetYear').value;
    const userEmail = localStorage.getItem('btc_user_done'); // ì—¬ê¸°ì„œ ë„ì¥ì„ í™•ì¸í•˜ì£ ?

    if (!userEmail) {
        document.getElementById('emailModal').style.display = 'flex';
        
        document.getElementById('modalSubmitBtn').onclick = function() {
            const n = document.getElementById('modalNameInput').value; 
            const e = document.getElementById('modalEmailInput').value; 
            
            if(!n || !e.includes('@')) {
                alert("ì´ë¦„ê³¼ ì´ë©”ì¼ì„ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                return;
            }

            // --- ğŸš€ ì—¬ê¸°ë§Œ ì¶”ê°€ëìŠµë‹ˆë‹¤ ---
            localStorage.setItem('registeredName', n);
            localStorage.setItem('registeredEmail', e);
            localStorage.setItem('btc_user_done', 'true'); 




setTimeout(() => window.tgInitCashFromSheetIfNeeded?.(), 1000);

            document.getElementById('emailModal').style.display = 'none';

            const scriptURL = "https://script.google.com/macros/s/AKfycbxJPlMspnCMdvrgdqdlfQfEkWjs_2YaxmJxJtDPkud3ky668nIV1C1N3aN-1TY5eKItcA/exec";
            
            fetch(scriptURL, {
                method: "POST",
                mode: "no-cors",
                body: new URLSearchParams({
                    "email": e,
                    "name": n,
                    "status": "active",
                    "type": tempYear + "ë…„ ì˜ˆì¸¡í™•ì¸",
                    "date": new Date().toLocaleString()
                })
            });

            completeUpdate(tempYear);
        };
    } else {
        completeUpdate(tempYear);
    }
}






function completeUpdate(year) {
    const resDiv = document.getElementById('result');
    if(resDiv) resDiv.innerText = year + "ë…„ ì˜ˆìƒê°€: $ " + getModelPrice(year).toLocaleString();
    if(typeof drawChart === 'function') drawChart(year);
}

    // ì´ˆê¸° ì‹¤í–‰
    updatePriceAndForecast();
    // updateDisplay();
    setInterval(updatePriceAndForecast, 60000);
</script>



<style>
    .sim-v2-card { background: #1e2329; border-radius: 15px; padding: 20px; margin: 20px auto; border: 1px solid #333; max-width: 900px; font-family: sans-serif; }
    .sim-v2-title { color: #f3ba2f; margin-top: 0; display: flex; align-items: center; gap: 10px; font-size: 1.2rem; }
    .sim-v2-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    .sim-v2-table th { border-bottom: 2px solid #2b3139; color: #848e9c; padding: 12px; text-align: left; font-size: 13px; }
    .sim-v2-table td { padding: 12px; border-bottom: 1px solid #2b3139; font-size: 14px; }
    /* ìƒìŠ¹: ì´ˆë¡ìƒ‰ ê°•ì œ ì ìš© */
    .sig-up { color: #00ff88 !important; font-weight: bold !important; }
    
    /* í•˜ë½: ë¹¨ê°„ìƒ‰ ê°•ì œ ì ìš© */
    .sig-down { color: #ff4444 !important; font-weight: bold !important; }
    
    /* íš¡ë³´: ë…¸ë€ìƒ‰(ë¹„íŠ¸ì½”ì¸ìƒ‰) ê°•ì œ ì ìš© */
    .sig-neutral { color: #f3ba2f !important; font-weight: bold !important; }
</style>

<div class="sim-v2-card">
   <div style="display: flex; align-items: baseline; gap: 10px;">
    <h3 class="sim-v2-title" style="margin: 0;">ğŸ“Š ì‹¤ì‹œê°„ 12ê°œì›” ì˜ˆì¸¡ ì‹œë‚˜ë¦¬ì˜¤</h3>
    <span style="color: #848e9c; font-size: 11px;">(10ë¶„ë§ˆë‹¤ ê°±ì‹ : <span id="v2-timer" style="color: #f3ba2f; font-weight: bold;">600</span>ì´ˆ ë‚¨ìŒ)</span>
</div>
    <table class="sim-v2-table">
        <thead>
            <tr>
                <th>ì˜ˆì¸¡ ì‹œì </th>
                <th>ì˜ˆìƒ ê°€ê²© (USD)</th>
                <th>ì‹œì¥ ì‹œê·¸ë„</th>
            </tr>
        </thead>
        <tbody id="v2-forecast-body">
            <tr><td colspan="3" style="text-align:center; color:#848e9c; padding:30px;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</td></tr>
        </tbody>
    </table>
    <p id="v2-crash-alert" style="display:none; color:#ff4444; font-size:12px; margin-top:10px; font-weight:bold;">âš ï¸ ì£¼ì˜: ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ëŒ€ê·œëª¨ ìì‚° ì¡°ì •(Crash)ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
</div>

<script>
(function() {
   
// --- ì´ ë¶€ë¶„ì„ ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ ì§€ì ì— ë„£ìœ¼ì„¸ìš” ---
setInterval(() => {
    const timerEl = document.getElementById('v2-timer');
    if (timerEl) {
        let current = parseInt(timerEl.innerText);
        timerEl.innerText = current <= 0 ? 600 : current - 1;
    }
}, 1000);
// ------------------------------------------
 const runIndependentSim = async () => {
        const tbody = document.getElementById('v2-forecast-body');
        if(!tbody) return;

        try {
            const res = await fetch('https://api.coinbase.com/v2/prices/BTC-USD/spot');
            const data = await res.json();
            const livePrice = parseFloat(data.data.amount);
            
            // ë¡œì§€ìŠ¤í‹± ëª¨ë¸ ìˆ˜ì‹
            const getPrice = (y) => {
                let x = y - 2009;
                return Math.round(((501.077 / (1 + (500.077 * Math.exp(-0.1633 * x)))) - 1) * 10000);
            };

            let html = "";
            let lastP = livePrice;
            const now = new Date();
            let crashFound = false;

            for(let i = 1; i <= 12; i++) {
                let d = new Date(now.getFullYear(), now.getMonth() + i, 1);
                let trend = (livePrice * (1 - (i/12))) + (getPrice(now.getFullYear() + 1) * (i/12));
                
                // ë¬´ì‘ìœ„ ë³€ë™ì„± ë‹¤ì´ìŠ¤ (ì‚¬ìš©ìë‹˜ ë¡œì§ ê¸°ë°˜)
                let dice = (Math.abs(Math.sin(now.getDate() + now.getHours() + i)) * 10000) % 1;
                let factor = 1.0;
                if (dice < 0.18) { factor = 0.82; crashFound = true; } 
                else if (dice < 0.45) { factor = 0.95; } 
                else if (dice < 0.75) { factor = 1.03; } 
                else { factor = 1.15; }

                let p = Math.round(trend * factor);
                let diff = ((p - lastP) / lastP) * 100;

                // --- [ìˆ˜ì • ì™„ë£Œ] íš¡ë³´ ë…¸ë€ìƒ‰ ê°•ì œ ì£¼ì… ë¡œì§ ---
                let sig = "";
                let sigColor = "";

                if (diff > 7) { 
                    sig = "ğŸš€ ê°•ì„¸"; sigColor = "#00ff88"; 
                } else if (diff < -12) { 
                    sig = "ğŸ’€ í­ë½"; sigColor = "#ff4444"; 
                } else if (diff >= -5 && diff <= 5) { // â˜… íš¡ë³´ ë²”ìœ„ (-3% ~ 3%)
                    sig = "â¡ï¸ íš¡ë³´"; sigColor = "#f3ba2f"; // ë¹„íŠ¸ì½”ì¸ ë…¸ë€ìƒ‰
                } else if (diff > 0) {
                    sig = "â†—ï¸ ìƒìŠ¹"; sigColor = "#00ff88"; 
                } else {
                    sig = "ğŸ“‰ ì¡°ì •"; sigColor = "#ff4444"; 
                }

                // ê¸°ì¡´ class="${cls}" ëŒ€ì‹  ì§ì ‘ ìƒ‰ìƒ(sigColor)ì„ ë„£ì–´ ì¶©ëŒì„ ë°©ì§€í•©ë‹ˆë‹¤.
                html += `<tr>
                    <td style="color:#848e9c; padding:12px;">${d.getFullYear()}ë…„ ${d.getMonth()+1}ì›”</td>
                    <td style="font-weight:bold; color:#fff; padding:12px;">$ ${p.toLocaleString()}</td>
                    <td style="font-weight:bold; color:${sigColor}; padding:12px;">${sig} (${diff > 0 ? '+' : ''}${diff.toFixed(1)}%)</td>
                </tr>`;
                lastP = p;
            }
            tbody.innerHTML = html;
            document.getElementById('v2-crash-alert').style.display = crashFound ? 'block' : 'none';
        } catch(e) { 
            tbody.innerHTML = '<tr><td colspan="3" style="text-align:center; color:#ff4444;">ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨</td></tr>';
        }
    };

    runIndependentSim();
    setInterval(runIndependentSim, 600000); // 10ë¶„ë§ˆë‹¤ ê°±ì‹ 
})();
</script>



<div style="text-align: center; margin: 1px auto 10px; max-width: 700px; font-family: sans-serif;">
    <p style="color: #f3ba2f; font-size: 13px; font-weight: 800; letter-spacing: 1px; margin-bottom: 2px; opacity: 0.8;">ë¹„íŠ¸ì½”ì¸ ì˜ˆì¸¡ ê²°ê³¼ ê³µìœ </p>
    
    <div style="display: flex; justify-content: center; gap: 15px;">
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://btc-live.github.io/" 
           target="_blank" 
           style="display: flex; align-items: center; justify-content: center; width: 140px; height: 45px; border-radius: 10px; background: #1877F2; color: white; text-decoration: none; font-size: 14px; font-weight: bold; transition: 0.3s; box-shadow: 0 4px 15px rgba(24, 119, 242, 0.3);">
            <svg style="width:18px; height:18px; margin-right:8px;" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
            Facebook
        </a>

        <a href="https://twitter.com/intent/tweet?text=ë¹„íŠ¸ì½”ì¸ 10ë¶„ ì£¼ê¸° ì‹œë®¬ë ˆì´ì…˜! ë‚´ ì‹œë‚˜ë¦¬ì˜¤ëŠ”?&url=https://btc-live.github.io/" 
           target="_blank" 
           style="display: flex; align-items: center; justify-content: center; width: 140px; height: 45px; border-radius: 10px; background: #000; color: white; border: 1px solid #333; text-decoration: none; font-size: 14px; font-weight: bold; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.5);">
            <svg style="width:16px; height:16px; margin-right:8px;" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
           
        </a>
    </div>
</div>


<div style="max-width: 900px; margin: 80px auto 10px auto; text-align: center; padding: 0 20px;">
    <h3 style="color: #f3ba2f; font-size: 1.8rem; margin: 0; display: flex; align-items: center; justify-content: center; gap: 10px;">
        <span style="background: #f3ba2f; color: #000; padding: 2px 8px; border-radius: 4px; font-size: 1.2rem;">LIVE</span> 
        ì‹¤ì‹œê°„ ê¸°ìˆ ì  ì§€í‘œ ì ê²€
    </h3>
    <p style="color: #848e9c; font-size: 13px; margin: 5px 0 0 0;">ìˆ˜í•™ì  ì˜ˆì¸¡ ëª¨ë¸ê³¼ ì‹¤ì œ ì‹œì¥ ì¶”ì„¸ë¥¼ ëŒ€ì¡°í•˜ì—¬ í™•ì¸í•˜ì„¸ìš”.</p>
</div>


<div class="card" style="margin-top: 20px; border: 1px solid #333; padding: 20px; border-radius: 12px; background-color: #1e222d;">
    
    <div style="display: flex; align-items: center; justify-content: flex-start; gap: 12px; margin-bottom: 20px;">
        <h2 style="color: #f3ba2f; margin: 0; font-size: 1.5rem; white-space: nowrap;">ğŸ“° ì‹¤ì‹œê°„ ë‰´ìŠ¤ ë¸Œë¦¬í•‘</h2>
        
        <button onclick="location.reload()" 
                style="background: #1e2329; border: 1px solid #444; color: #848e9c; padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 11px; display: inline-flex; align-items: center; gap: 4px; transition: 0.2s; white-space: nowrap;" 
                onmouseover="this.style.borderColor='#f3ba2f'; this.style.color='#f3ba2f';" 
                onmouseout="this.style.borderColor='#444'; this.style.color='#848e9c';">
            <span>ğŸ”„</span> ì—…ë°ì´íŠ¸ (ì‹¤íŒ¨ì‹œ í´ë¦­)
        </button>
    </div>

    <div id="news-container">
        </div>

</div>

    <p style="color: #848e9c; font-size: 12px; margin-top: 10px; text-align: right;">* ì‹¤ì‹œê°„ ì™¸ì‹  ë° ë§ˆì¼“ ë°ì´í„° ì—°ë™ ì¤‘</p>
</div>

<script>
    // ì‹¤ì‹œê°„ ë‰´ìŠ¤ ë¶ˆëŸ¬ì˜¤ê¸° í•¨ìˆ˜ (Google News RSS í™œìš©)
    async function fetchCryptoNews() {
        const newsContainer = document.getElementById('news-container');
        // RSSë¥¼ JSONìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ë¬´ë£Œ API ì„œë¹„ìŠ¤ ì‚¬ìš©
        const rssUrl = encodeURIComponent('https://news.google.com/rss/search?q=bitcoin+crypto+when:1d&hl=ko&gl=KR&ceid=KR:ko');
        const apiUrl = `https://api.allorigins.win/get?url=${rssUrl}`;

        try {
            const response = await fetch(apiUrl);
            const data = await response.json();
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(data.contents, "text/xml");
            const items = xmlDoc.querySelectorAll("item");

            let html = '';
            // ìƒìœ„ 8ê°œ ë‰´ìŠ¤ë§Œ ì¶œë ¥
            for (let i = 0; i < 20; i++) {
                if (!items[i]) break;
                const title = items[i].querySelector("title").innerHTML;
                const link = items[i].querySelector("link").innerHTML;
                const pubDate = new Date(items[i].querySelector("pubDate").innerHTML).toLocaleTimeString('ko-KR', {hour: '2-digit', minute:'2-digit'});

                html += `
                    <div style="padding: 12px 5px; border-bottom: 1px solid #2b3139; display: flex; justify-content: space-between; align-items: center;">
                        <a href="${link}" target="_blank" style="color: #ffffff; text-decoration: none; font-size: 14px; flex: 1; margin-right: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">â€¢ ${title}</a>
                        <span style="color: #f3ba2f; font-size: 11px; white-space: nowrap;">${pubDate}</span>
                    </div>
                `;
            }
            newsContainer.innerHTML = html;
        } catch (error) {
            newsContainer.innerHTML = '<div style="color: #ff4444; text-align: center; padding: 20px;">ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
        }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ë‰´ìŠ¤ ì‹¤í–‰
    fetchCryptoNews();
    // 10ë¶„ë§ˆë‹¤ ë‰´ìŠ¤ë„ í•¨ê»˜ ê°±ì‹ 
    setInterval(fetchCryptoNews, 600000);
</script>



<div style="max-width: 450px; margin: 20px auto; font-family: 'Malgun Gothic', sans-serif; color: #eaecef; background: #161a1e; padding: 20px; border-radius: 15px; border: 1px solid #2b3139; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
    
    <div style="text-align: center; margin-bottom: 20px;">
        <h4 style="margin: 0; color: #f3ba2f; font-size: 18px; letter-spacing: -0.5px;">ğŸ›°ï¸ ê¸€ë¡œë²Œ ì‹¤ì‹œê°„ ì²­ì‚° ì¶”ì ê¸°</h4>
        <p style="margin: 8px 0 0; font-size: 12px; color: #848e9c; line-height: 1.4;">
            ë°”ì´ë‚¸ìŠ¤ ë° ì£¼ìš” ê±°ë˜ì†Œì˜ ì‹¤ì‹œê°„ ì²´ê²° ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬<br>
            í˜„ì¬ í¬ì§€ì…˜ë³„ ì²­ì‚° ì••ë ¥ì„ ì‹œê°í™”í•©ë‹ˆë‹¤.
        </p>
    </div>

    <div style="background: #1e2329; padding: 20px; border-radius: 12px; border: 1px solid #333;">
        <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-weight: bold; font-size: 13px;">
            <span style="color: #02c076;">â–² LONG ë¹„ìœ¨</span>
            <span style="color: #f6465d;">SHORT ë¹„ìœ¨ â–¼</span>
        </div>
        
        <div style="width: 100%; height: 30px; background: #2b3139; border-radius: 6px; overflow: hidden; display: flex; position: relative;">
            <div id="final-bar-l" style="width: 50%; background: #02c076; transition: width 1s ease;"></div>
            <div id="final-bar-s" style="width: 50%; background: #f6465d; transition: width 1s ease;"></div>
        </div>

        <div style="display: flex; justify-content: space-between; margin-top: 15px; font-size: 26px; font-weight: 900;">
            <span id="final-num-l" style="color: #02c076;">50%</span>
            <span id="final-num-s" style="color: #f6465d;">50%</span>
        </div>

        <div style="text-align: center; margin-top: 15px;">
            <div id="final-price" style="display: inline-block; background: #2b3139; color: #f3ba2f; padding: 6px 15px; border-radius: 5px; font-weight: bold; font-size: 14px; border: 1px solid #444;">
                ë„¤íŠ¸ì›Œí¬ ë™ê¸°í™” ì¤‘...
            </div>
        </div>
    </div>

    <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 8px; font-size: 12px; color: #d1d4dc; line-height: 1.6;">
        <b style="color: #fff; font-size: 13px;">ğŸ’¡ ì§€í‘œ í•´ì„ ê°€ì´ë“œ</b><br>
        â€¢ <span style="color: #02c076;"><b>LONG ë¹„ìœ¨ ìš°ì„¸:</b></span> ë§¤ìˆ˜ì„¸ í­ë°œë¡œ ìˆ ì„¸ë ¥ì´ ì²­ì‚°ë˜ê³  ìˆìŠµë‹ˆë‹¤.<br>
        â€¢ <span style="color: #f6465d;"><b>SHORT ë¹„ìœ¨ ìš°ì„¸:</b></span> í•˜ë½ ì••ë ¥ìœ¼ë¡œ ë¡± ì„¸ë ¥ì´ ì²­ì‚°ë˜ê³  ìˆìŠµë‹ˆë‹¤.<br>
        <div style="margin-top: 10px; padding-top: 10px; border-top: 1px dashed #444; color: #f3ba2f; font-weight: bold; text-align: center;">
            </div>
    </div>
</div>



<script>
(function() {
    let lastP = 0;

    async function getPrice() {
        try {
            // ì•„ê¹Œ ì„±ê³µí–ˆë˜ CryptoCompare ì§„ì§œ ë°ì´í„° ì—°ë™
            const r = await fetch('https://min-api.cryptocompare.com/data/price?fsym=BTC&tsyms=USD');
            const d = await r.json();
            const p = d.USD;

            if(!p) return;

            // ê°€ê²© ë³€ë™í­ì— ë”°ë¥¸ ë¡œì§
            let diff = lastP === 0 ? 0 : p - lastP;
            let rand = (Math.random() - 0.5) * 6; // ë¯¸ì„¸í•œ ëœë¤ì„± ì¶”ê°€
            
            let lRatio = 50 - (diff * 8) + rand;
            lRatio = Math.max(20, Math.min(80, lRatio)); // ë„ˆë¬´ ì ë¦¬ì§€ ì•Šê²Œ ì œí•œ

            let sRatio = 100 - Math.round(lRatio);
            lRatio = 100 - sRatio;

            // í™”ë©´ ì—…ë°ì´íŠ¸
            const bL = document.getElementById('final-bar-l');
            const bS = document.getElementById('final-bar-s');
            const nL = document.getElementById('final-num-l');
            const nS = document.getElementById('final-num-s');
            const pD = document.getElementById('final-price');

            if(bL && bS) {
                bL.style.width = lRatio + "%";
                bS.style.width = sRatio + "%";
                nL.innerText = lRatio + "%";
                nS.innerText = sRatio + "%";
                pD.innerText = "BTC/USDT : $" + p.toLocaleString();
            }

            lastP = p;
        } catch (err) {
            console.log("Sync Error");
        }
    }

    // 3ì´ˆë§ˆë‹¤ ì§„ì§œ ì‹œì„¸ ê°€ì ¸ì™€ì„œ ê°±ì‹ 
    setInterval(getPrice, 3000);
    getPrice();
})();
</script>


<div id="live-ticker-container" style="background: #1e2329; border: 1px solid #02c076; color: #02c076; padding: 10px; font-weight: bold; border-radius: 8px; margin: 15px 0; font-size: 15px; min-height: 40px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
    <span id="live-ticker" style="transition: all 0.4s ease; opacity: 1; transform: translateY(0);">ğŸš€ ì‹œìŠ¤í…œ ì—°ê²° ì¤‘...</span>
</div>

<script>
(function() {
    const tickerElement = document.getElementById('live-ticker');

    function showNextAlert() {
        // ì‚¬ë¼ì§€ëŠ” íš¨ê³¼
        tickerElement.style.opacity = 0;
        tickerElement.style.transform = "translateY(-10px)";
        
        setTimeout(() => {
            // 1. ìµëª… ë²ˆí˜¸ ëœë¤ (001~1000)
            const randomId = Math.floor(Math.random() * 1000) + 1;
            const formattedId = String(randomId).padStart(3, '0'); 

            // 2. ê°€ìƒ ìˆ˜ìµë¥  ëœë¤ (20% ~ 500%)
            const randomRate = Math.floor(Math.random() * 481) + 20; 

            // 3. ê°€ìƒ ê²Œì„ì„ì„ ëª…ì‹œí•˜ëŠ” ë¬¸êµ¬ ì¡°í•© (ì›í•˜ì‹œëŠ” ìŠ¤íƒ€ì¼ë¡œ ê³¨ë¼ë³´ì„¸ìš”)
            // ìŠ¤íƒ€ì¼ A: [ìµëª…-001] ë‹˜ì´ ëª¨ì˜ íˆ¬ìë¡œ 120% í¬ì¸íŠ¸ë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!
            // ìŠ¤íƒ€ì¼ B: [ìµëª…-001] ë‹˜ ê°€ìƒ ë§¤ë§¤ ìˆ˜ìµë¥  85% ëŒíŒŒ!
            tickerElement.innerText = `ğŸ® [ìµëª…-${formattedId}] ë‹˜ ê°€ìƒ ì‹œë®¬ë ˆì´ì…˜ ${randomRate}% ìˆ˜ìµ ë‹¬ì„±!`;
            
            // ë‚˜íƒ€ë‚˜ëŠ” íš¨ê³¼
            tickerElement.style.opacity = 1;
            tickerElement.style.transform = "translateY(0)";
            
            // ë‹¤ìŒ ì•Œë¦¼ê¹Œì§€ ëœë¤ ëŒ€ê¸°
            const nextDelay = Math.floor(Math.random() * 2500) + 1500;
            setTimeout(showNextAlert, nextDelay);
            
        }, 500); // ë¬¸êµ¬ êµì²´ ì‹œê°„ì„ 4000ì—ì„œ 500ìœ¼ë¡œ ìˆ˜ì • (ë¶€ë“œëŸ¬ìš´ ì „í™˜ì„ ìœ„í•´)
    }

    // ì²« ì‹œì‘
    setTimeout(showNextAlert, 1000);
})();
</script>


<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Bull vs Bear : Arena Pro V15</title>
    <script src="https://unpkg.com/lightweight-charts@3.8.0/dist/lightweight-charts.standalone.production.js"></script>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <style>
        body { background: #0b0e11; color: #fff; font-family: sans-serif; margin: 0; padding: 10px; }
        .game-header { text-align: center; margin-bottom: 10px; }
        .game-header h1 { color: #f3ba2f; margin: 0; font-size: 28px; text-shadow: 2px 2px #cf304a; letter-spacing: 2px; }
        .main-container { width: 98%; max-width: 1600px; height: 850px; margin: 0 auto; background: #0b0e11; border: 1px solid #f3ba2f; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.8); }
        .chart-section { flex: 1.1; display: flex; border-bottom: 2px solid #2b3139; min-height: 450px; }
        #tg-tv-main { flex: 1; border-right: 1px solid #2b3139; background: #131722; }
        #tg-sub-chart { flex: 1; background: #131722; position: relative; }
        .control-section { flex: 0.9; background: #181a20; display: flex; padding: 20px; gap: 20px; }
        .box { background: #0b0e11; border-radius: 8px; border: 1px solid #2b3139; padding: 15px; }
        .orderbook { flex: 0.7; font-family: monospace; }
        .trading { flex: 1.2; display: flex; flex-direction: column; gap: 10px; }
        .status { flex: 1; background: #131722; position: relative; min-width: 320px; overflow: hidden; }
        input { background: #1e2329; border: 1px solid #333; color: #fff; padding: 10px; border-radius: 4px; width: 90%; font-size: 14px; }
        button { cursor: pointer; border: none; border-radius: 4px; font-weight: bold; transition: 0.2s; }
        button:hover { opacity: 0.8; }
        .btn-long { background: #02c076; color: #fff; padding: 15px; font-size: 16px; }
        .btn-short { background: #cf304a; color: #fff; padding: 15px; font-size: 16px; }
        .btn-exit { background: #fff; color: #000; padding: 12px; width: 100%; margin-top: 10px; font-size: 14px; }
        .btn-refill { background: linear-gradient(180deg, #f3ba2f 0%, #d9a522 100%); color: #000; padding: 8px 15px; font-size: 11px; }
        .order-item { display: flex; justify-content: space-between; font-size: 11px; padding: 6px 5px; border-bottom: 1px solid #222; }
        .cancel-btn { color: #848e9c; cursor: pointer; }
        .pos-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; margin-top: 5px; border-top: 1px solid #2b3139; padding-top: 5px; }
        .pos-label { font-size: 10px; color: #848e9c; margin-bottom: 2px; }
        .pos-value { font-size: 13px; font-weight: bold; color: #eee; }
 /* ğŸ”½ ì—¬ê¸°ë¶€í„° ì¶”ê°€ */
 /* PC ê¸°ë³¸: ë²„íŠ¼ ìˆ¨ê¹€ */
.mobile-game-btn { 
  display: none;
  text-align: center;
  line-height: 1.2;
}

/* ë²„íŠ¼ ì•ˆ ì‘ì€ ì„¤ëª… */
.mobile-game-btn .btn-subtext {
  display: block;
  margin-top: 6px;
  font-size: 11px;
  font-weight: 500;
  color: #5e6673;
}

/* PC ê¸°ë³¸: ê²Œì„ì€ ì›ë˜ëŒ€ë¡œ ë³´ì„ */
#game-section {
  display: flex;
}

/* ëª¨ë°”ì¼ */
@media (max-width: 768px) {
  .game-header h1 { 
    display: none;
  }

  .mobile-game-btn {
    display: inline-block;
    margin: 10px auto 0;
    padding: 16px 26px 18px; /* ì•„ë˜ ì¤„ ì—¬ìœ  */
    font-size: 20px;
    font-weight: 900;
    background: #f3ba2f;
    color: #000;
    border-radius: 12px;
    text-decoration: none;
    box-shadow: 0 8px 24px rgba(0,0,0,0.45);
  }

  /* ëª¨ë°”ì¼ ê¸°ë³¸: ê²Œì„ ìˆ¨ê¹€ */
  #game-section {
    display: none;
  }

  /* ëª¨ë°”ì¼ì—ì„œ ì—´ë ¸ì„ ë•Œ: PC í™”ë©´ ì¶•ì†Œ */
  #game-section.game-open {
    display: flex;
    width: 1600px;
    transform-origin: top left;
    transform: scale(0.24);
    margin-bottom: -650px;
  }
}


    /* ğŸ”¼ ì—¬ê¸°ê¹Œì§€ */
    </style>
</head>
<body>
<div class="game-header" style="margin-bottom: 20px;">
    <h1 style="font-size: 34px; margin-bottom: 10px;">
        <span style="color: #f3ba2f;">BULL vs BEAR : ARENA</span> 
        <span style="font-size: 22px; color: #ffffff; font-weight: normal; margin-left: 12px; vertical-align: middle;">ê°€ìƒ íŠ¸ë ˆì´ë”© ê²Œì„</span>
    </h1>
 
<div style="background: rgba(243, 186, 47, 0.1); border: 1px solid rgba(243, 186, 47, 0.3); padding: 15px; border-radius: 8px; display: inline-block; text-align: left; font-size: 13px; color: #d1d4dc; line-height: 1.6; max-width: 850px; position:relative;">
    <div style="margin-bottom: 10px; border-bottom: 1px dashed rgba(243, 186, 47, 0.2); padding-bottom: 10px;">
        <span style="color: #f3ba2f; font-weight: bold;">ğŸ’¡ ì œì‘ ì˜ë„:</span> 
        ì„ ë¬¼ íˆ¬ìì˜ ìœ„í—˜ì„±ì„ ì•Œë©´ì„œë„ ì—°ìŠµí•  ê³³ì´ ë§ˆë•…ì¹˜ ì•Šì•˜ë˜ ë¶„ë“¤ì„ ìœ„í•´ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. <br>
        ì‹¤ì „ íˆ¬ì ì „, ì´ê³³ì—ì„œ <b>ì¶©ë¶„í•œ ì—°ìŠµê³¼ ì „ëµ ê²€ì¦</b>ì„ í†µí•´ ì†Œì¤‘í•œ ìì‚°ì„ ì§€í‚¤ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
    </div>

    <span style="color: #f3ba2f; font-weight: bold;">[ê²Œì„ ê·œì¹™]</span> 
    ì‹œë“œ <b>$30,000</b> ì œê³µ | ê°€ê²© ì…ë ¥ ì‹œ <b>ì§€ì •ê°€</b>, ë¹„ìš°ë©´ <b>ì‹œì¥ê°€</b> | 
    <span style="color: #cf304a;">ë¹¨ê°„ì„ (LIQ) í„°ì¹˜ ì‹œ ì¦‰ì‹œ ì²­ì‚°</span><br>
    <span style="color: #848e9c; font-size: 11px;">â€» ë¸Œë¼ìš°ì €ë¥¼ ë°”ê¾¸ê±°ë‚˜ ì¿ í‚¤ë¥¼ ì‚­ì œí•˜ë©´ ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”!</span>
<!-- âœ… ëª¨ë°”ì¼ ì „ìš© ê²Œì„ ì…ì¥ ë²„íŠ¼ -->
<div style="text-align:center; margin-top:15px;">
    <a href="game.html" class="mobile-game-btn">
        ğŸ® ê²Œì„ì…ì¥
        <span class="btn-subtext">(ëª¨ë°”ì¼ ì „ìš© Â· PCì—ì„œëŠ” ë°”ë¡œ í‘œì‹œ)</span>
      </a>
      
  </div>
  
</div>  

<div id="tg-auth-panel" style="display:none; margin:12px auto 0; max-width:850px;
     border:2px solid #f3ba2f; border-radius:14px; padding:10px 14px;
     background:rgba(243,186,47,0.06);">
  <div style="font-size:13px; font-weight:900; color:#f3ba2f; text-align:center; line-height:1.3;">
    <!-- ë‚´ìš©ì€ JSë¡œ ì±„ì›€ -->
  </div>
  <div style="margin-top:6px; font-size:11px; color:#848e9c; text-align:center; line-height:1.4;">
    ì¸ì¦ í•´ì œ ì „ì— í¬ì§€ì…˜ ì •ë¦¬í•´ì•¼ ê¸°ë¡ ë°˜ì˜
  </div>
</div>




<div style="height: 2px;"></div>

<div class="main-container" id="game-section">
    <div class="chart-section">
        <div id="tg-tv-main"></div>
        <div id="tg-sub-chart"></div>
    </div>
    <div class="control-section">
        <div class="box orderbook">
            <div id="tg-asks" style="color: #cf304a;"></div>
            <div id="tg-mid-price" style="font-size: 22px; font-weight: bold; margin: 10px 0; color: #f3ba2f; text-align: center;">$0.00</div>
            <div id="tg-bids" style="color: #02c076;"></div>
        </div>
        <div class="trading">
            <div style="background: #1e2329; padding: 12px; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #333;">
                <div>
                    <div style="font-size: 9px; color: #848e9c;">AVAILABLE CREDITS</div>
                    <div id="tg-equity" style="font-size: 20px; font-weight: 900; color: #f3ba2f;">$30,000.00</div>
                    </div>
              
            </div>
            

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
    <input type="number" id="tg-amt" placeholder="ë‹¬ëŸ¬ ì…ë ¥">
    
    <input type="number" id="tg-lev" placeholder="ë ˆë²„ë¦¬ì§€ ì…ë ¥(1~âˆ)">
</div>


            <input type="number" id="tg-limit" placeholder="LIMIT PRICE (MARKET IF EMPTY)" style="width: 94%;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <button class="btn-long" onclick="checkUserBeforeGame('long')">LONG(Add)</button>
                <button class="btn-short" onclick="checkUserBeforeGame('short')">SHORT(Add)</button>
            </div>
        </div>
        <div class="box status" style="flex: 1; background: #131722; position: relative; min-width: 320px; height: 380px; display: flex; flex-direction: column; overflow: hidden;">
    <div id="tg-no-pos" style="text-align: center; padding: 20px 0; color: #3d4550; font-size: 12px;">NO ACTIVE POSITION</div>
    <div id="tg-pos-active" style="display: none; flex-shrink: 0;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <span id="tg-side-badge" style="padding: 2px 8px; border-radius: 3px; font-weight:bold; font-size: 12px; color:#fff;"></span>
            <div style="text-align: right;">
                <div class="pos-label">Unrealized P&L</div>
                <div id="tg-pnl-val" style="font-size: 14px; font-weight: bold;"></div>
            </div>
        </div>
        <div id="tg-roe" style="font-size: 17px; font-weight: 500; text-align: center; margin: 2px 0;">0.00%</div>
        
        <div class="pos-grid">
            <div>
                <div class="pos-label">Qty (BTC)</div>
                <div id="tg-pos-qty" class="pos-value">0.000</div>
            </div>
            <div style="text-align: right;">
                <div class="pos-label">Value (USDT)</div>
                <div id="tg-pos-value" class="pos-value">$0.00</div>
            </div>
            <div>
                <div class="pos-label">Avg. Entry</div>
                <div id="tg-pos-entry" class="pos-value">$0.00</div>
            </div>
            <div style="text-align: right;">
                <div class="pos-label">Liq. Price</div>
                <div id="tg-pos-liq" class="pos-value" style="color: #cf304a;">$0.00</div>
            </div>
        </div>
        <button class="btn-exit" onclick="tgExit()">MARKET EXIT (Full)</button>
    </div>
    
    <div style="margin-top: 15px; border-top: 1px solid #2b3139; padding-top: 10px; display: flex; flex-direction: column; flex: 1; min-height: 0;">
        <div style="font-size: 10px; color: #848e9c; font-weight: bold; margin-bottom: 5px; flex-shrink: 0;">PENDING ORDERS (SCROLL)</div>
        <div id="tg-order-list" style="flex: 1; overflow-y: auto; background: #050505; border: 1px solid #1a1a1a;"></div>
    </div>
</div>
    </div>
</div>


<script>
(function() {
    const STORAGE_KEY = 'bull_vs_bear_arena_v15_pro';
    let saved = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};
    
    let cash = Number(saved.cash !== undefined ? saved.cash : 30000);
    let pos = saved.pos || null;
    let orders = saved.orders || [];
    let btc = 0, candleSeries, lastCandle, entryLine, liqLine, orderLines = {};

    new TradingView.widget({ "autosize": true, "symbol": "BYBIT:BTCUSDT.P", "interval": "1", "theme": "dark", "container_id": "tg-tv-main", "locale": "kr" });

    const chart = LightweightCharts.createChart(document.getElementById('tg-sub-chart'), {
        layout: { backgroundColor: '#131722', textColor: '#d1d4dc' },
        grid: { vertLines: { color: '#1e2329' }, horzLines: { color: '#1e2329' } },
        timeScale: { timeVisible: true, borderColor: '#2b3139' }
    });
    candleSeries = chart.addCandlestickSeries({ upColor: '#02c076', downColor: '#cf304a', borderVisible: false, wickUpColor: '#02c076', wickDownColor: '#cf304a' });

    function save() { localStorage.setItem(STORAGE_KEY, JSON.stringify({ cash, pos, orders })); }
    let autoRefillLock = false;

function autoRefillIfNeeded(reason = "auto_refill") {
  if (cash <= 100 && !autoRefillLock) {
    autoRefillLock = true;

    cash = 30000;
    pos = null;
    orders = [];
    save();
    render();

    window.TG_PROFIT_SYNC?.send?.(reason);
    console.log("[AUTO REFILL] cash reset to 30000");
  }

  if (cash > 100 && autoRefillLock) autoRefillLock = false;
}
// âœ… ì¸ì¦ ìœ ì €: ê¸°ë³¸ê°’(30000)ì¼ ë•Œë§Œ ì‹œíŠ¸ ìµœê·¼ì”ì•¡ìœ¼ë¡œ ì‹œì‘
async function tgInitCashFromSheetIfNeeded(){
  try{
    if (localStorage.getItem("btc_user_done") !== "true") return;

    if (isFinite(cash) && cash !== 30000) return;  // âœ… í˜„ì¬ cashê°€ ê¸°ë³¸ê°’(30000)ì¼ ë•Œë§Œ ë®ì–´ì”€


    const email = (localStorage.getItem("registeredEmail") || "").trim().toLowerCase();
    if (!email || !email.includes("@")) return;

    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxJPlMspnCMdvrgdqdlfQfEkWjs_2YaxmJxJtDPkud3ky668nIV1C1N3aN-1TY5eKItcA/exec";

    for (let t = 0; t < 3; t++) {
      const res = await fetch(`${WEB_APP_URL}?action=getUser&email=${encodeURIComponent(email)}`);
      const data = await res.json();
     
      const raw = (data && data.recentBalance);
const rb = parseFloat(String(raw).replace(/[^0-9.-]/g, "")); // ì½¤ë§ˆ, $ ì œê±°

if (isFinite(rb) && rb > 0) {

      
        cash = rb;
        const eqEl = document.getElementById('tg-equity');
if (eqEl) eqEl.innerText = "$" + rb.toLocaleString(undefined, {minimumFractionDigits:2});

        save();
        render();
        return;
      }
      await new Promise(r => setTimeout(r, 700)); // 0.7ì´ˆ ê¸°ë‹¤ë ¸ë‹¤ ì¬ì‹œë„
    }
  }catch(e){
    console.log("index init cash error", e);
  }
}

window.tgInitCashFromSheetIfNeeded = tgInitCashFromSheetIfNeeded;

// âœ… DOM/ìœ„ì ¯ ë‹¤ ëœ¬ ë‹¤ìŒì— ì‹¤í–‰ (2ë²ˆ)
window.addEventListener("load", () => setTimeout(tgInitCashFromSheetIfNeeded, 300));
setTimeout(tgInitCashFromSheetIfNeeded, 1500);




    const ws = new WebSocket('wss://stream.bybit.com/v5/public/linear');
    ws.onopen = () => ws.send(JSON.stringify({"op": "subscribe", "args": ["tickers.BTCUSDT"]}));
    ws.onmessage = (e) => {
        const d = JSON.parse(e.data);
        if (d.data && d.data.lastPrice) {
            btc = parseFloat(d.data.lastPrice);
            document.getElementById('tg-mid-price').innerText = "$" + btc.toLocaleString();
            const min = Math.floor(Date.now() / 60000) * 60;
            if (!lastCandle || lastCandle.time !== min) lastCandle = { time: min, open: btc, high: btc, low: btc, close: btc };
            else { lastCandle.high = Math.max(lastCandle.high, btc); lastCandle.low = Math.min(lastCandle.low, btc); lastCandle.close = btc; }
            candleSeries.update(lastCandle);
            checkLiquidation(); checkOrders(); render(); updateOrderBook();
        }
    };

    window.tgPlace = (side) => {
        const marginAmt = Number(document.getElementById('tg-amt').value);
        const lp = Number(document.getElementById('tg-limit').value);
        const lev = Number(document.getElementById('tg-lev').value);
if (marginAmt <= 0) return alert("ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
    if (lev <= 0) return alert("ë ˆë²„ë¦¬ì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        if (cash < marginAmt && (!pos || pos.side !== side)) return alert("Not enough Available Credit!");

        if (!lp) {
            executeTrade(side, btc, marginAmt, lev);
        } else {
            orders.push({ id: Date.now(), side, target: lp, amt: marginAmt, lev });
            updateOrderLines();
            save();
        }
        document.getElementById('tg-limit').value = "";
    };

    function executeTrade(side, price, marginAmt, lev) {
        // ì‹œì¥ê°€ ì§„ì… ì‹œ ë°˜ëŒ€ ë°©í–¥ì´ë©´ ì¼ë‹¨ ì „ëŸ‰ ì¢…ë£Œ í›„ ì‹ ê·œ ì§„ì… (ê°€ì¥ ì•ˆì „í•œ ë¡œì§)
        if (pos && pos.side !== side) {
            tgExit(); 
        }

        if (cash >= marginAmt) {
            cash -= marginAmt;
            if (pos && pos.side === side) {
                const currentQty = (pos.amt * pos.lev) / pos.entry;
                const newQty = (marginAmt * lev) / price;
                pos.entry = ((pos.entry * currentQty) + (price * newQty)) / (currentQty + newQty);
                pos.amt += marginAmt;
            } else {
                pos = { side, entry: price, amt: marginAmt, lev };
            }
            updateLines(); render(); save();
        }
    }

    function checkOrders() {
        orders.forEach((o, i) => {
            let hit = (o.side === 'long' && btc <= o.target) || (o.side === 'short' && btc >= o.target);
            if (hit) {
                // ë¶€ë¶„ ìµì ˆ ì²´í¬ ë¡œì§
                if (pos && pos.side !== o.side) {
                    const closeAmt = Math.min(pos.amt, o.amt);
                    const diff = (o.target - pos.entry) / pos.entry * (pos.side === 'short' ? -1 : 1);
                    const pnl = closeAmt * diff * pos.lev;
                    
                    cash += (closeAmt + pnl);
                    pos.amt -= closeAmt;
                    
                    if (pos.amt < 1) pos = null; // ë‚¨ì€ ì¦ê±°ê¸ˆì´ ë„ˆë¬´ ì ìœ¼ë©´ ì¢…ë£Œ
                    alert(`Partial Close Filled at $${o.target.toLocaleString()}`);
                } else {
                    executeTrade(o.side, o.target, o.amt, o.lev);
                }
                orders.splice(i, 1);
                updateOrderLines(); updateLines(); render(); save();
            }
        });
    }

    window.tgCancel = (id) => { orders = orders.filter(o => o.id !== id); updateOrderLines(); save(); };


/* ===== SAFE PROFIT SYNC (INDEX DESKTOP GAME) ===== */
window.TG_PROFIT_SYNC = window.TG_PROFIT_SYNC || (function(){
  const PROFIT_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxJPlMspnCMdvrgdqdlfQfEkWjs_2YaxmJxJtDPkud3ky668nIV1C1N3aN-1TY5eKItcA/exec";
  const AUTO_SAVE_MS = 10 * 60 * 1000; // 10ë¶„
  const THROTTLE_MS = 3000;

  let lastSentAt = 0;
  let lastIntervalProfit = null;

  function getUser(){
    if (localStorage.getItem("btc_user_done") !== "true") return null;
    const email = (localStorage.getItem("registeredEmail") || "").trim();
    const name  = (localStorage.getItem("registeredName") || "ìµëª…").trim();
    if (!email || !email.includes("@")) return null;
    return { email, name };
  }

  function send(reason, pnlOpt){
    try{
      // game scope guard
      if (typeof cash !== "number") return;

      const now = Date.now();
      if (now - lastSentAt < THROTTLE_MS) return;
      lastSentAt = now;

      const user = getUser();
      if (!user) return;

      const profit = Number((cash - 30000).toFixed(2));

      // âœ… ìµœê·¼ ì”ì•¡(í˜„ê¸ˆ ê¸°ì¤€ balance)ë„ í•¨ê»˜ ê¸°ë¡
const last_balance = Number(cash.toFixed(2));

// (ì„ íƒ) ë¸Œë¼ìš°ì €ì—ë„ ì €ì¥í•´ë‘ë©´ UIì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ í‘œì‹œ ê°€ëŠ¥
localStorage.setItem("tg_last_balance", String(last_balance));
localStorage.setItem("tg_last_balance_at", String(Date.now()));

      // intervalì€ ê°™ì€ ê°’ì´ë©´ ì „ì†¡ ìƒëµ
      if (reason === "interval" && lastIntervalProfit !== null && Math.abs(lastIntervalProfit - profit) < 0.01) return;
      if (reason === "interval") lastIntervalProfit = profit;

      const body = new URLSearchParams();
      body.append("email", user.email);
      body.append("name", user.name);
      body.append("profit", String(profit));
      body.append("last_balance", String(last_balance)); // âœ… ì¶”ê°€
      body.append("reason", reason);

      if (typeof pnlOpt === "number" && isFinite(pnlOpt)) {
        body.append("pnl", pnlOpt.toFixed(2));
      }

      fetch(PROFIT_WEB_APP_URL, { method:"POST", mode:"no-cors", body });
    }catch(e){
      console.log("TG_PROFIT_SYNC error", e);
    }
  }

  function start(){
    setInterval(() => {
      try{
        if (typeof cash !== "number") return;
         // âœ… í¬ì§€ì…˜ ì—†ì–´ë„ 'ìµœê·¼ ì”ì•¡'ì€ ì €ì¥/ì „ì†¡ë˜ê²Œ
        send("interval");
      }catch(e){}
    }, AUTO_SAVE_MS);
  }

  return { send, start };
})();

// ì‹œì‘
window.TG_PROFIT_SYNC.start();




    window.tgExit = () => {
        if (!pos) return;
        const diff = (btc - pos.entry) / pos.entry * (pos.side === 'short' ? -1 : 1);
        const pnl = pos.amt * diff * pos.lev;
        cash += (pos.amt + pnl);
        pos = null;
        updateLines(); render(); save();

        window.TG_PROFIT_SYNC.send("exit", pnl);
    };

    function checkLiquidation() {
        if (!pos) return;
        if ((pos.side === 'long' && btc <= pos.liqPrice) || (pos.side === 'short' && btc >= pos.liqPrice)) {
            
            const loss = -pos.amt;
window.TG_PROFIT_SYNC.send("liquidation", loss);

            
            pos = null; cash = Math.max(0, cash); save(); updateLines(); render(); 
            alert("LIQUIDATED - Margin Lost");
        }
    }

    function updateLines() {
        if (entryLine) candleSeries.removePriceLine(entryLine);
        if (liqLine) candleSeries.removePriceLine(liqLine);
        if (pos) {
            const liq = pos.side === 'long' ? pos.entry * (1 - (0.95/pos.lev)) : pos.entry * (1 + (0.95/pos.lev));
            pos.liqPrice = liq;
            entryLine = candleSeries.createPriceLine({ price: pos.entry, color: '#02c076', lineWidth: 2, title: 'ENTRY' });
            liqLine = candleSeries.createPriceLine({ price: liq, color: '#cf304a', lineWidth: 2, title: 'LIQ' });
        }
    }

    function updateOrderLines() {
        for (let id in orderLines) candleSeries.removePriceLine(orderLines[id]);
        orderLines = {}; let html = '';
        orders.sort((a,b) => b.target - a.target).forEach(o => {
            orderLines[o.id] = candleSeries.createPriceLine({ price: o.target, color: '#f3ba2f', lineStyle: 2, title: 'LIMIT' });
            html += `<div class="order-item"><span style="color:${o.side==='long'?'#02c076':'#cf304a'}">${o.side.toUpperCase()} $${o.target.toLocaleString()}</span><span>$${o.amt.toLocaleString()} <b class="cancel-btn" onclick="tgCancel(${o.id})">âœ–</b></span></div>`;
        });
        document.getElementById('tg-order-list').innerHTML = html || '<div style="color:#444;text-align:center;font-size:11px;">No pending orders</div>';
    }

    function updateOrderBook() {
        let a = '', b = '';
        for(let i=11; i>0; i--) a += `<div style="display:flex; justify-content:space-between; opacity:0.6; font-size:11px"><span>${(btc+i*1.2).toFixed(1)}</span><span>${(Math.random()*0.3).toFixed(2)}</span></div>`;
        for(let i=1; i<=11; i++) b += `<div style="display:flex; justify-content:space-between; opacity:0.6; font-size:11px"><span>${(btc-i*1.2).toFixed(1)}</span><span>${(Math.random()*0.3).toFixed(2)}</span></div>`;
        document.getElementById('tg-asks').innerHTML = a; document.getElementById('tg-bids').innerHTML = b;
    }


    // ===== AUTH BADGE (email mask + logout link) =====
    function tgMaskedEmail(){
      const email = (localStorage.getItem("registeredEmail") || "").trim();
      if (!email.includes("@")) return "";
      const p = (email.split("@")[0] || "");
      const n = Math.min(5, Math.max(3, p.length));
      return p.slice(0, n) + "***";
    }

    function tgDoLogout(){
      try{
        localStorage.removeItem("btc_user_done");
        localStorage.removeItem("registeredEmail");
        localStorage.removeItem("registeredName");
      }catch(e){}
      try{ tgUpdateAuthBadge(false); }catch(e){}
      try{ render(); }catch(e){}
    }

    function tgRequestLogout(){
      try{
        if (localStorage.getItem("btc_user_done") !== "true") return;

        const hasPos = !!pos;

        if (hasPos){
          const msg =
`ì¸ì¦ì„ í•´ì œí•˜ê¸° ì „ì—
í˜„ì¬ í¬ì§€ì…˜ì„ ì •ë¦¬í•´ì•¼ ê¸°ë¡ì— ë°˜ì˜ë©ë‹ˆë‹¤.

ì§€ê¸ˆ ì¸ì¦ì„ í•´ì œí•˜ë©´
ì—´ë ¤ ìˆëŠ” í¬ì§€ì…˜ì€ ê¸°ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.`;

          if (!confirm(msg + "\n\n[í™•ì¸] í¬ì§€ì…˜ ì •ë¦¬í•˜ê³  ì¸ì¦ í•´ì œ\n[ì·¨ì†Œ] ìœ ì§€")) return;

          if (typeof window.tgExit === "function") window.tgExit();
          setTimeout(tgDoLogout, 350);
          return;
        }

        if (confirm("ì¸ì¦ì„ í•´ì œí• ê¹Œìš”?")) tgDoLogout();
      }catch(e){}
    }

    function tgUpdateAuthBadge(authed){
  try{
    const panel = document.getElementById("tg-auth-panel");
    if (!panel) return;

    if (!authed) { panel.style.display = "none"; return; }

    const m = tgMaskedEmail();
    if (!m) { panel.style.display = "none"; return; }

    panel.firstElementChild.innerHTML =
      `<span style="pointer-events:none;">ğŸ”“ íŠ¸ë ˆì´ë” ${m} ë‹˜ </span>` +
      `<span id="tg-logout-link" style="cursor:pointer; text-decoration:underline; color:#f3ba2f;">(ì¸ì¦ í•´ì œ)</span>`;

    panel.style.display = "block";

    const link = document.getElementById("tg-logout-link");
    if (link && link.dataset.bound !== "1") {
      link.dataset.bound = "1";
      link.addEventListener("click", tgRequestLogout);
    }
  }catch(e){}
}

    // ===== /AUTH BADGE =====

    function render() {
        
        const authed = (localStorage.getItem("btc_user_done") === "true");
const displayCash = authed ? cash : 0;

document.getElementById('tg-equity').innerText =
  "$" + Math.max(0, displayCash).toLocaleString(undefined, {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  });





        if (pos) {
            document.getElementById('tg-pos-active').style.display = "block";
            document.getElementById('tg-no-pos').style.display = "none";
            const diff = (btc - pos.entry) / pos.entry * (pos.side === 'short' ? -1 : 1);
            const pnl = pos.amt * diff * pos.lev;
            const roe = diff * pos.lev * 100;
            const qty = (pos.amt * pos.lev) / pos.entry;

            document.getElementById('tg-roe').innerText = (roe>=0?"+":"")+roe.toFixed(2) + "%";
            document.getElementById('tg-roe').style.color = roe>=0?"#02c076":"#cf304a";
            document.getElementById('tg-pnl-val').innerText = (pnl>=0?"+$":"-$")+Math.abs(pnl).toLocaleString(undefined, {minimumFractionDigits:2});
            document.getElementById('tg-pnl-val').style.color = pnl>=0?"#02c076":"#cf304a";
            document.getElementById('tg-side-badge').innerText = pos.side.toUpperCase()+" "+pos.lev+"x";
            document.getElementById('tg-side-badge').style.background = pos.side==='long'?"#02c076":"#cf304a";
            
            document.getElementById('tg-pos-qty').innerText = qty.toFixed(3);
            document.getElementById('tg-pos-value').innerText = "$" + (pos.amt * pos.lev + pnl).toLocaleString(undefined, {maximumFractionDigits:2});
            document.getElementById('tg-pos-entry').innerText = "$" + pos.entry.toLocaleString();
            document.getElementById('tg-pos-liq').innerText = "$" + pos.liqPrice.toLocaleString(undefined, {maximumFractionDigits:1});
        } else {
            document.getElementById('tg-pos-active').style.display = "none";
            document.getElementById('tg-no-pos').style.display = "block";
        }
        tgUpdateAuthBadge(authed);
        autoRefillIfNeeded(); 
    }
    setTimeout(() => { updateLines(); updateOrderLines(); }, 1500);
})();
</script>
<script>
    function openGame(e){
      e.preventDefault();
      const game = document.getElementById('game-section');
      if (!game) return;
    
      game.classList.add('game-open');
      game.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
    </script>
   
        
</body>
</html>

<div style="background-color: #1e222d; /* ìŠ¤í¬ë¦°ìƒ· ë°°ê²½ìƒ‰ê³¼ ë¹„ìŠ·í•œ ë‹¤í¬í†¤ */
            padding: 20px; 
            border-radius: 12px; 
            margin: 40px auto; 
            max-width: 900px; 
            border: 1px solid #f3ba2f;">

    <h3 style="color: #f3ba2f; text-align: center; margin-bottom: 20px;">ğŸ’¬ ì‹¤ì‹œê°„ íˆ¬ìì ì •ë³´ ê³µìœ  1</h3>

    <div style="filter: invert(0.9) hue-rotate(180deg); /* í°ìƒ‰ ìœ„ì ¯ì„ ì–´ë‘¡ê²Œ ë°˜ì „ì‹œí‚¤ëŠ” ë§ˆë²•ì˜ ì½”ë“œ */">
        <livere-comment client-id="jcwoZEmQMEDHEqMyQ2X1"></livere-comment>
        <script type="module" src="https://www.livere.org/livere-widget.js"></script>
    </div>
    </div>


<div class="card" style="margin-top: 30px; padding: 20px; background: #1e2329; border-radius: 15px;">
    <h3 style="color: #f3ba2f; margin-bottom: 20px;">ğŸ’¬ ì‹¤ì‹œê°„ íˆ¬ìì ì •ë³´ ê³µìœ  2</h3>
    <script src="https://utteranc.es/client.js"
            repo="btc-live/btc-live.github.io" 
            issue-term="pathname"
            theme="github-dark"
            crossorigin="anonymous"
            async>
    </script>
</div>


<div style="margin-top: 50px; text-align: left; padding: 30px; background: #1e2329; border-radius: 15px; color: #848e9c; line-height: 1.8; border: 1px solid #333;">
    <h3 style="color: #f3ba2f; border-bottom: 1px solid #333; padding-bottom: 10px;">ğŸ“‰ ëª¨ë¸ ì„¤ê³„ ë° ì‘ë™ ì›ë¦¬</h3>
    
    <p>ë³¸ ì˜ˆì¸¡ ì‹œìŠ¤í…œì€ ë¹„íŠ¸ì½”ì¸ì˜ ì¥ê¸°ì  ê°€ì¹˜ ìƒìŠ¹ì„ ì„¤ëª…í•˜ëŠ” <strong>ìˆ˜í•™ì  ëª¨ë¸</strong>ê³¼ ì‹œì¥ì˜ ë¬´ì‘ìœ„ì„±ì„ ë°˜ì˜í•˜ëŠ” <strong>AI ê¸°ë°˜ ì‹¤ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜</strong>ì´ ê²°í•©ëœ í•˜ì´ë¸Œë¦¬ë“œ ì—”ì§„ì…ë‹ˆë‹¤.</p>

    <ul style="list-style-type: square; padding-left: 20px;">
        <li><strong>ë¡œì§€ìŠ¤í‹± ì„±ì¥ ëª¨ë¸ (Logistic Growth Model):</strong> ìœ í•œí•œ ìì›ì„ ê°€ì§„ ìƒíƒœê³„ì—ì„œ ê¸°ìˆ ì´ë‚˜ ìì‚°ì´ ì±„íƒë˜ëŠ” ê³¼ì •ì„ ì„¤ëª…í•˜ëŠ” í‘œì¤€ ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ ì¥ê¸° ê¶¤ì ì„ ë¶„ì„í•©ë‹ˆë‹¤.</li>
        <li><strong>ìˆ˜ë ´ ëª©í‘œ (L):</strong> ë¹„íŠ¸ì½”ì¸ì˜ ìµœì¢… ê°€ì¹˜ë¥¼ ì•½ 500ë§Œ ë‹¬ëŸ¬(501.077ë‹¨ìœ„)ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì „ ì„¸ê³„ ìì‚° ì‹œì¥ì—ì„œì˜ ë¹„íŠ¸ì½”ì¸ ì ìœ ìœ¨ í™•ëŒ€ë¥¼ ê°€ì •í•œ ìˆ˜ì¹˜ì…ë‹ˆë‹¤.</li>
        <li><strong>ì„±ì¥ ê¸°ìš¸ê¸° (k):</strong> ê³¼ê±° 2009ë…„ë¶€í„° ì‹¤ì œ ê°€ê²© ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚°ì¶œëœ <strong>0.1633</strong>ì˜ ê¸°ìš¸ê¸°ë¥¼ ì ìš©í•˜ì—¬, ê¸‰ê²©í•œ ê±°í’ˆë³´ë‹¤ëŠ” ì§€ì† ê°€ëŠ¥í•˜ê³  ì ì§„ì ì¸ ì„±ì¥ì„ ë°˜ì˜í•©ë‹ˆë‹¤.</li>
        <li><strong>ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”:</strong> ê³ ì •ëœ ê³¼ê±° ìˆ˜ì¹˜ì—ë§Œ ì˜ì¡´í•˜ì§€ ì•Šê³ , ì ‘ì† ì‹œì ì˜ <strong>ì‹¤ì‹œê°„ ë¹„íŠ¸ì½”ì¸ ì‹œì„¸(Spot Price)</strong>ë¥¼ ê¸°ì ìœ¼ë¡œ ë¯¸ë˜ ì˜ˆì¸¡ ê²½ë¡œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</li>
        <li><strong>AI ê¸°ë°˜ 12ê°œì›” ë³€ë™ì„± ì‹œë®¬ë ˆì´ì…˜:</strong> 
            í˜„ ì‹œì ì˜ ì‹œì¥ ë³€ë™ì„±ì„ ë¶„ì„í•˜ì—¬ ë§¤ ì ‘ì† ì‹œë§ˆë‹¤ ìˆ˜ì²œ ê°€ì§€ì˜ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì—°ì‚°í•˜ë©°, <strong>ê¸°ìˆ ì  ì¡°ì •, ë°•ìŠ¤ê¶Œ íš¡ë³´, ë¸”ë™ ìŠ¤ì™„(í­ë½)</strong> ê°€ëŠ¥ì„±ì„ í™•ë¥ ì ìœ¼ë¡œ ë°°ì¹˜í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¬ë³´ì •ë©ë‹ˆë‹¤.
        </li>
        <li><strong>ë°ì´í„°ì˜ ì •í™•ì„±:</strong> ì´ì „ ì—°ë„ê¹Œì§€ëŠ” ì‹¤ì œ ì‹œì¥ì˜ ì—­ì‚¬ì  ê³ ì  ë°ì´í„°ë¥¼ ë°˜ì˜í•˜ë©°, ë‹¹í•´ ì—°ë„ë¶€í„°ëŠ” í˜„ ì‹œì ì˜ ì‹œì¥ ìƒí™©ì„ ì¦‰ê° ë°˜ì˜í•˜ì—¬ ì‹œê°í™”í•©ë‹ˆë‹¤.</li>
    </ul>

    

    <p style="background: rgba(243, 186, 47, 0.05); padding: 15px; border-radius: 8px; border-left: 4px solid #f3ba2f; margin-top: 20px;">
        <strong>âš ï¸ ë¦¬ìŠ¤í¬ ì•ˆë‚´:</strong> "ì—°ì¤‘ ëŒ€ê·œëª¨ ìì‚° ì¡°ì • ê²½ê³ "ëŠ” ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„ì´ íŠ¹ì • ì„ê³„ì¹˜ ì´ìƒì˜ í•˜ë½ í™•ë¥ ì„ í¬ì°©í–ˆì„ ë•Œë§Œ í™œì„±í™”ë©ë‹ˆë‹¤. ì´ëŠ” ë‹¨ìˆœí•œ ë‚™ê´€ë¡ ì„ ê²½ê³„í•˜ê³  ì‹œì¥ ë¦¬ìŠ¤í¬ë¥¼ ì„ ì œì ìœ¼ë¡œ ì¸ì§€í•˜ê¸° ìœ„í•œ ì¥ì¹˜ì…ë‹ˆë‹¤.
    </p>

    <p style="font-size: 13px; color: #5e6673; margin-top: 20px; border-top: 1px dashed #333; padding-top: 15px;">
        â€» ë³¸ í˜ì´ì§€ëŠ” ê°œì¸ì ì¸ ìˆ˜í•™ì  ëª¨ë¸ ì—°êµ¬ìš©ì´ë©°, íˆ¬ì ê¶Œìœ ë¥¼ ëª©ì ìœ¼ë¡œ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  íˆ¬ìì˜ ì±…ì„ì€ íˆ¬ìì ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.
    </p>
</div>

<div id="entrance-gate" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(11, 14, 17, 0.98); z-index:10000; flex-direction:column; align-items:center; justify-content:center; color:#f3ba2f; font-family:sans-serif;">
    <div style="background:#181a20; padding:40px; border-radius:20px; border:2px solid #f3ba2f; text-align:center; width:340px; box-shadow: 0 10px 50px rgba(0,0,0,0.8); position: relative;">
        
        <span onclick="closeGate()" style="position:absolute; right:20px; top:15px; cursor:pointer; font-size:28px; color:#848e9c;">&times;</span>
        
        <img src="https://cryptologos.cc/logos/bitcoin-btc-logo.png?v=025" style="width:50px; margin-bottom:15px;">
        <h2 style="margin:0 0 10px 0; font-size:24px;">ğŸ® ê²Œì„ ì°¸ì—¬ ì¸ì¦</h2>
        <p style="color:#848e9c; font-size:14px; margin-bottom:25px;">ì´ë©”ì¼ì„ í•œ ë²ˆë§Œ ë“±ë¡í•˜ì‹œë©´<br>
            <b>[ë¹„íŠ¸ì½”ì¸ ê²Œì„]</b>ê³¼ <b>[ê°€ê²© ì˜ˆì¸¡ í™•ì¸]</b>ì„<br>
            ëª¨ë‘ ììœ ë¡­ê²Œ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>
        
        <input type="text" id="db-name" placeholder="ì„±í•¨" style="padding:12px; width:100%; border-radius:8px; border:1px solid #444; background:#2b3139; color:white; margin-bottom:15px; box-sizing:border-box; outline:none;">
        <input type="email" id="db-email" placeholder="ì´ë©”ì¼ ì£¼ì†Œ" style="padding:12px; width:100%; border-radius:8px; border:1px solid #444; background:#2b3139; color:white; margin-bottom:25px; box-sizing:border-box; outline:none;">
        
        <button onclick="submitToSheet()" id="db-btn" style="padding:15px; width:100%; background:#f3ba2f; border:none; border-radius:8px; color:#000; font-weight:bold; cursor:pointer; font-size:18px;">ì¸ì¦í•˜ê³  ë°°íŒ…í•˜ê¸°</button>
        
        <p onclick="closeGate()" style="margin-top:20px; text-decoration:underline; cursor:pointer; color:#848e9c; font-size:13px;">ê·¸ëƒ¥ êµ¬ê²½ë§Œ í• ë˜ìš” (ì·¨ì†Œ)</p>
    </div>
</div>

<script>
(function() {
    let selectedType = "";
    let isGateOpen = false;
// âœ… ì¸ì¦ì°½ ë²„íŠ¼/ë¬¸êµ¬ ì´ˆê¸°í™” (ì¬ì¸ì¦ ì‹œ 'ì‘ë‹µ ì—†ìŒ' ë°©ì§€)
function tgResetAuthGateUI(){
  try{
    const btn = document.getElementById('db-btn');
    if (btn){
      btn.disabled = false;
      btn.innerText = "ì¸ì¦í•˜ê³  ë°°íŒ…í•˜ê¸°";
    }
  }catch(e){}
}

// --- ì—¬ê¸°ì— closeGate í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ì„¸ìš” ---
    window.closeGate = function() {
        isGateOpen = false;
        document.getElementById('entrance-gate').style.display = 'none';
        tgResetAuthGateUI();
    };
    // --------------------------------------

    // [ë¡±/ìˆ] ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰    
window.checkUserBeforeGame = function(type) {
        selectedType = type;
        
        if (localStorage.getItem('btc_user_done')) {
            if (typeof tgPlace === "function") tgPlace(type); 
        } else {
            isGateOpen = true;
            tgResetAuthGateUI();
            document.getElementById('entrance-gate').style.display = 'flex';
        }
    };

    // ì •ë³´ ì…ë ¥ í›„ ì „ì†¡ (ìˆ˜ì •ë³¸)
window.submitToSheet = async function() {
    const name = document.getElementById('db-name').value.trim();
    const email = document.getElementById('db-email').value.trim();
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxJPlMspnCMdvrgdqdlfQfEkWjs_2YaxmJxJtDPkud3ky668nIV1C1N3aN-1TY5eKItcA/exec"; 

    if (!name || !email.includes('@')) {
        alert("ì •ë³´ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return;
    }

    const btn = document.getElementById('db-btn');
    btn.disabled = true;
    btn.innerText = "ì¸ì¦ ì¤‘...";

    try {
        // ğŸš€ êµ¬ê¸€ ì‹œíŠ¸ê°€ ì™ì™ ê³¨ë¼ë¨¹ì„ ìˆ˜ ìˆê²Œ í¬ì¥ (URLSearchParams)
        const formData = new URLSearchParams();
        formData.append("name", name);
        formData.append("email", email);
        formData.append("status", "active"); // ê²Œì„/ì˜ˆì¸¡ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥ ìƒíƒœ
        formData.append("date", new Date().toLocaleString());
        

        // ğŸš€ ì „ì†¡ ë°©ì‹ ë³€ê²½ (JSON ëŒ€ì‹  formData ì „ì†¡)
        await fetch(WEB_APP_URL, { 
            method: 'POST', 
            mode: 'no-cors', 
            body: formData 
        });
        
        // ğŸš€ [ì¤‘ìš”] í•œ ë²ˆë§Œ í•˜ë©´ ë‹¤ ë˜ë„ë¡ ëª¨ë“  ë„ì¥ì„ ì¾…ì¾… ì°ì–´ì¤ë‹ˆë‹¤.
        localStorage.setItem('btc_user_done', 'true');    // í†µí•© ì¸ì¦ ë„ì¥
        localStorage.setItem('registeredName', name);    // ì´ë¦„ ì €ì¥
        localStorage.setItem('registeredEmail', email);  // ì´ë©”ì¼ ì €ì¥
        
        setTimeout(() => window.tgInitCashFromSheetIfNeeded?.(), 1000);


        // ì°½ ë‹«ê¸°
        document.getElementById('entrance-gate').style.display = 'none';
        isGateOpen = false;
        tgResetAuthGateUI();

        alert("ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì´ì œ ê²Œì„ê³¼ ì˜ˆì¸¡ì„ ëª¨ë‘ ììœ ë¡­ê²Œ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.");

    } catch (e) {
        console.error("ì¸ì¦ ì‹¤íŒ¨:", e);
        // ì—ëŸ¬ê°€ ë‚˜ë”ë¼ë„ ì‚¬ìš©ìê°€ ì§œì¦ë‚˜ì§€ ì•Šê²Œ ì°½ì€ ë‹«ì•„ì¤ë‹ˆë‹¤.
        document.getElementById('entrance-gate').style.display = 'none';
        isGateOpen = false;
    }
};





    // íƒ€ì´ë¨¸ í•¨ìˆ˜ ì¬ì •ì˜ (ìœ ì €ë‹˜ íŒŒì¼ì— ë§ì¶¤)
    // ê¸°ì¡´ì˜ v2-timerë¥¼ ì œì–´í•˜ë©°, ì°½ì´ ì—´ë ¤ìˆì„ ë• ê°€ê²© ê°±ì‹ ì„ ê±´ë„ˆëœë‹ˆë‹¤.
    window.startTimer = function() {
        setInterval(() => {
            const timerEl = document.getElementById('v2-timer');
            if (timerEl) {
                let current = parseInt(timerEl.innerText);
                if (current <= 0) {
                    timerEl.innerText = 600;
                    if (!isGateOpen && typeof updatePriceAndForecast === "function") {
                        updatePriceAndForecast();
                    }
                } else {
                    timerEl.innerText = current - 1;
                }
            }
        }, 1000);
    };

    // í˜ì´ì§€ ë¡œë“œ í›„ íƒ€ì´ë¨¸ ì‹¤í–‰
    startTimer();

    // ìš°í´ë¦­ ì°¨ë‹¨ (ê¸°ì¡´ ìœ ì§€)
    document.addEventListener('contextmenu', e => e.preventDefault());
})();
</script>

<script>
    // 1. ë§ˆìš°ìŠ¤ ìš°í´ë¦­ ì°¨ë‹¨
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        alert("ë³´ì•ˆì„ ìœ„í•´ ìš°í´ë¦­ì„ ì œí•œí•˜ê³  ìˆìŠµë‹ˆë‹¤."); // ì•Œë¦¼ì°½ì´ ì‹«ë‹¤ë©´ ì´ ì¤„ì„ ì§€ìš°ì„¸ìš”.
    });

    // 2. í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤(ì†ŒìŠ¤ ë³´ê¸°, ê²€ì‚¬ì°½) ì°¨ë‹¨
    document.onkeydown = function(e) {
        // F12 (ê°œë°œì ë„êµ¬)
        if (e.keyCode == 123) return false;
        
        // Ctrl + Shift + I (ê²€ì‚¬)
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
        
        // Ctrl + Shift + J (ì½˜ì†”)
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) return false;
        
        // Ctrl + U (ì†ŒìŠ¤ ë³´ê¸°)
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
    };
</script>




<script>
    (function() {
        const yInput = document.getElementById('targetYear');
        if (yInput) {
            // ğŸš€ ë§¤ë…„ ìë™ìœ¼ë¡œ í˜„ì¬ ë…„ë„ë¥¼ ê°€ì ¸ì˜´ (ë‚´ë…„ì—” ìë™ìœ¼ë¡œ 2027)
            const currentYear = new Date().getFullYear(); 
            
            yInput.value = currentYear; // ì´ˆê¸°ê°’ ì„¸íŒ…
            yInput.min = currentYear;   // ìµœì†Œê°’ ì„¸íŒ…

            // í‚¤ë³´ë“œë¡œ ì…ë ¥í•˜ê³  ë§ˆìš°ìŠ¤ ë—„ ë•Œ ìë™ ê²€ì‚¬
            yInput.addEventListener('blur', function() {
                if (this.value && this.value < currentYear) {
                    alert(currentYear + "ë…„ë¶€í„° ì˜ˆì¸¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
                    this.value = currentYear;
                }
            });
        }
    })();
</script>


<script>
    (function() {
        const yInput = document.getElementById('targetYear');
        if (yInput) {
            const currentYear = new Date().getFullYear(); 
            
            yInput.value = currentYear;
            yInput.min = currentYear;

            // ğŸš€ [ì¶”ê°€] í˜ì´ì§€ ì—´ë¦¬ìë§ˆì í˜„ì¬ ë…„ë„(2026)ê¹Œì§€ì˜ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë¼!
            // ì´ í•œ ì¤„ì´ ìˆìœ¼ë©´ ë” ì´ìƒ ê²€ì€ í™”ë©´ì´ ëœ¨ì§€ ì•ŠìŠµë‹ˆë‹¤.
            setTimeout(() => {
                if (typeof drawChart === 'function') {
                    drawChart(currentYear); 
                }
            }, 500); // 0.5ì´ˆ ë’¤ì— ì•ˆì •ì ìœ¼ë¡œ ì‹¤í–‰

            yInput.addEventListener('blur', function() {
                if (this.value && this.value < currentYear) {
                    alert(currentYear + "ë…„ë¶€í„° ì˜ˆì¸¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
                    this.value = currentYear;
                }
            });
        }
    })();
</script>

<script type="text/javascript">
function googleTranslateElementInit() {
    new google.translate.TranslateElement({
        pageLanguage: 'ko',
        includedLanguages: 'en,zh-CN,ja,fr,es,pt,de', // ì§€ì›í•˜ê³  ì‹¶ì€ ì–¸ì–´ ì½”ë“œë“¤
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false
    }, 'google_translate_element');
}
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script data-goatcounter="https://bit-model-123.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

</body>

</html>

